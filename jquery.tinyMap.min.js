(function(g,n,s,f){function e(a,b){try{return n.hasOwnProperty?a.hasOwnProperty(b.toString()):Object.prototype.hasOwnProperty.call(a,b.toString())}catch(c){}}function m(a){var b=a.css||"";this.setValues(a);this.span=g("<span/>").css({position:"relative",left:"-50%",top:"0","white-space":"nowrap"}).addClass(b);this.div=g("<div/>").css({position:"absolute",display:"none"});this.span.appendTo(this.div)}function p(a,b){e(n,"google")&&(this.map=null,this.container=a,this.options=g.extend({},r,b),this.interval=
parseInt(this.options.interval,10)||200,this.GoogleMapOptions={center:new google.maps.LatLng(this.options.center.x,this.options.center.y),control:this.options.control,disableDefaultUI:this.options.disableDefaultUI,draggable:this.options.draggable,keyboardShortcuts:this.options.keyboardShortcuts,mapTypeId:google.maps.MapTypeId[this.options.mapTypeId.toUpperCase()],mapTypeControl:this.options.mapTypeControl,mapTypeControlOptions:{position:google.maps.ControlPosition[this.options.mapTypeControlOptions.position],
style:google.maps.MapTypeControlStyle[this.options.mapTypeControlOptions.style.toUpperCase()]},maxZoom:this.options.maxZoom,minZoom:this.options.minZoom,navigationControl:this.options.navigationControl,navigationControlOptions:{position:google.maps.ControlPosition[this.options.navigationControlOptions.position],style:google.maps.NavigationControlStyle[this.options.navigationControlOptions.style.toUpperCase()]},panControl:this.options.panControl,panControlOptions:{position:google.maps.ControlPosition[this.options.panControlOptions.position]},
rotateControl:this.options.rotateControl,scaleControl:this.options.scaleControl,scaleControlOptions:{position:google.maps.ControlPosition[this.options.scaleControlOptions.position],style:google.maps.ScaleControlStyle[this.options.scaleControlOptions.style.toUpperCase()]},scrollwheel:this.options.scrollwheel,streetViewControl:this.options.streetViewControl,streetViewControlOptions:{position:google.maps.ControlPosition[this.options.streetViewControlOptions.position]},zoom:this.options.zoom,zoomControl:this.options.zoomControl,
zoomControlOptions:{position:google.maps.ControlPosition[this.options.zoomControlOptions.position],style:google.maps.ZoomControlStyle[this.options.zoomControlOptions.style.toUpperCase()]}},g(this.container).html(this.options.loading),this.init())}var q=0,r={center:{x:"24",y:"121"},control:!0,disableDefaultUI:!1,draggable:!0,keyboardShortcuts:!0,mapTypeControl:!0,mapTypeControlOptions:{position:"TOP_RIGHT",style:"DEFAULT"},mapTypeId:"ROADMAP",marker:[],markerFitBounds:!1,maxZoom:null,minZoom:null,
panControl:!0,panControlOptions:{position:"LEFT_TOP"},polyline:[],navigationControl:!0,navigationControlOptions:{position:"TOP_LEFT",style:"DEFAULT"},scaleControl:!0,scaleControlOptions:{position:"BOTTOM_LEFT",style:"DEFAULT"},scrollwheel:!0,streetViewControl:!0,streetViewControlOptions:{position:"LEFT_TOP"},zoom:4,zoomControl:!0,zoomControlOptions:{style:"LARGE",position:"LEFT_TOP"},notfound:"\u627e\u4e0d\u5230\u67e5\u8a62\u7684\u5730\u9ede",loading:"\u8b80\u53d6\u4e2d&hellip;",kml:{url:"",viewport:!0,
infowindow:!1},interval:200};m.prototype=new google.maps.OverlayView;m.prototype.onAdd=function(){var a=this.getPanes().overlayLayer;this.div.appendTo(g(a));this.listeners=[google.maps.event.addListener(this,"visible_changed",this.onRemove)]};m.prototype.draw=function(){var a=this.getProjection().fromLatLngToDivPixel(this.get("position"));this.div.css({left:a.x+"px",top:a.y+"px",display:"block"});this.text&&this.span.html(this.text.toString())};m.prototype.onRemove=function(){g(this.div).remove()};
p.prototype={VERSION:"2.5.9",_markers:[],_labels:[],_polylines:[],_polygons:[],_circles:[],_kmls:[],_directions:[],_cluster:{},bounds:new google.maps.LatLngBounds,setZoom:function(a,b){e(b,"zoom")&&a&&a.setZoom(b.zoom)},kml:function(a,b){b=b?b:this.options;var c={},d="",c={};f!==b.kml&&(c={preserveViewport:!0,suppressInfoWindows:!1},d="string"===typeof b.kml&&0!==b.kml.length?b.kml:f!==b.kml.url?b.kml.url:"",c=new google.maps.KmlLayer(d,g.extend(c,b.kml)),this._kmls.push(c),c.setMap(a))},direction:function(a,
b){var c="";b=b?b:this.options;if(f!==b.direction&&0<b.direction.length)for(c in b.direction)e(b.direction,c)&&f!==b.direction[c]&&this.directionService(b.direction[c])},markers:function(a,b){var c="";b=b?b:this.options;if(f!==b.marker&&0<b.marker.length)for(c in b.marker)e(b.marker,c)&&e(b.marker[c],"addr")&&("object"===typeof b.marker[c].addr?2===b.marker[c].addr.length&&this.markerDirect(b.marker[c]):this.markerByGeocoder(b.marker[c]))},drawPolyline:function(a,b){var c={},c="",d={},l=[];b=b?b:
this.options;if(f!==b.polyline&&f!==b.polyline.coords){for(c in b.polyline.coords)e(b.polyline.coords,c)&&(d=b.polyline.coords,f!==d[c]&&l.push(new google.maps.LatLng(d[c][0],d[c][1])));c=new google.maps.Polyline({path:l,strokeColor:b.polyline.color||"#FF0000",strokeOpacity:1,strokeWeight:b.polyline.width||2});this._polylines.push(c);c.setMap(a)}},drawPolygon:function(a,b){var c={},c="",d={},l=[];b=b?b:this.options;if(f!==b.polygon&&f!==b.polygon.coords){for(c in b.polygon.coords)e(b.polygon.coords,
c)&&(d=b.polygon.coords,f!==d[c]&&l.push(new google.maps.LatLng(d[c][0],d[c][1])));c=new google.maps.Polygon({path:l,strokeColor:b.polygon.color||"#FF0000",strokeOpacity:1,strokeWeight:b.polygon.width||2,fillColor:b.polygon.fillcolor||"#CC0000",fillOpacity:0.35});this._polygons.push(c);c.setMap(this.map);g.isFunction(b.polygon.click)&&google.maps.event.addListener(c,"click",b.polygon.click)}},drawCircle:function(a,b){var c=0,d={},d={};b=b?b:this.options;if(f!==b.circle&&0<b.circle.length)for(c=b.circle.length-
1;0<=c;c-=1)d=b.circle[c],f!==d.center.x&&f!==d.center.y&&(d=new google.maps.Circle({strokeColor:d.color||"#FF0000",strokeOpacity:d.opacity||0.8,strokeWeight:d.width||2,fillColor:d.fillcolor||"#FF0000",fillOpacity:d.fillopacity||0.35,map:this.map,center:new google.maps.LatLng(d.center.x,d.center.y),radius:d.radius||10,zIndex:100}),this._circles.push(d),g.isFunction(b.circle[c].click)&&google.maps.event.addListener(d,"click",b.circle[c].click))},overlay:function(){this.kml(this.map);this.direction(this.map);
this.markers(this.map);this.drawPolyline(this.map);this.drawPolygon(this.map);this.drawCircle(this.map)},markerIcon:function(a){var b=null;if(e(a,"icon")){if("string"===typeof a.icon)return a.icon;b={};e(a.icon,"url")&&(b.url=a.icon.url);e(a.icon,"size")&&f!==a.icon.size[0]&&f!==a.icon.size[1]&&(b.scaledSize=new google.maps.Size(a.icon.size[0],a.icon.size[1]));e(a.icon,"anchor")&&f!==a.icon.anchor[0]&&f!==a.icon.anchor[1]&&(b.anchor=new google.maps.Point(a.icon.anchor[0],a.icon.anchor[1]))}return b},
markerDirect:function(a){var b={},c={},c={},b=e(a,"text")?a.text.replace(/<([^>]+)>/g,""):"",c={map:this.map,position:new google.maps.LatLng(a.addr[0],a.addr[1]),title:b,infoWindow:new google.maps.InfoWindow({content:b}),animation:null};if(b=this.markerIcon(a))c.icon=b;e(a.animation)&&"string"===typeof a.animation&&(c.animation=google.maps.Animation[a.animation.toUpperCase()]);b=new google.maps.Marker(c);this._markers.push(b);f!==a.cluster&&(f===this._cluster[a.cluster]&&(this._cluster[a.cluster]=
[]),this._cluster[a.cluster].push(b));e(b,"position")&&b.getPosition().lat()&&b.getPosition().lng()&&this.bounds.extend(c.position);c={map:this.map,css:f!==a.css?a.css:""};"string"===typeof a.label&&0!==a.label.length&&(c.text=a.label);c=new m(c);c.bindTo("position",b,"position");c.bindTo("text",b,"position");c.bindTo("visible",b);this.bindEvent(b,a.event)},markerByGeocoder:function(a){var b=new google.maps.Geocoder,c=this;-1!==a.addr.indexOf(",")&&(a.addr="loc: "+a.addr);b.geocode({address:a.addr},
function(b,f){if(f===google.maps.GeocoderStatus.OVER_QUERY_LIMIT)n.setTimeout(function(){c.markerByGeocoder(a)},c.interval);else if(f===google.maps.GeocoderStatus.OK){var h={},k={},k={},h={},h=e(a,"text")?a.text.toString():"",k={map:c.map,position:b[0].geometry.location,title:h,infoWindow:new google.maps.InfoWindow({content:h}),animation:null};if(h=c.markerIcon(a))k.icon=h;e(a,"animation")&&"string"===typeof a.animation&&(k.animation=google.maps.Animation[a.animation.toUpperCase()]);h=new google.maps.Marker(k);
c._markers.push(h);e(h,"position")&&h.getPosition().lat()&&h.getPosition().lng()&&c.bounds.extend(k.position);k={map:c.map,css:a.css||""};"string"===typeof a.label&&0!==a.label.length&&(k.text=a.label);k=new m(k);k.bindTo("position",h,"position");k.bindTo("text",h,"position");k.bindTo("visible",h);c.bindEvent(h,a.event)}})},directionService:function(a){var b=[],c=new google.maps.DirectionsService,d=new google.maps.DirectionsRenderer,l={travelMode:google.maps.DirectionsTravelMode.DRIVING,optimizeWaypoints:a.optimize||
!1},h=0,e=0;"string"===typeof a.from&&(l.origin=a.from);"string"===typeof a.to&&(l.destination=a.to);"string"===typeof a.travel&&0<a.travel.length&&(l.travelMode=google.maps.DirectionsTravelMode[a.travel.toUpperCase()]);if(f!==a.waypoint&&0!==a.waypoint){h=0;for(e=a.waypoint.length;h<e;h+=1)b.push({location:a.waypoint[h].toString(),stopover:!0});l.waypoints=b}f!==l.origin&&f!==l.destination&&(c.route(l,function(a,b){b===google.maps.DirectionsStatus.OK&&d.setDirections(a)}),d.setMap(this.map),this._directions.push(d))},
bindEvent:function(a,b){var c=this;"function"===typeof b?google.maps.event.addListener(a,"click",b):e(b,"type")?"string"===typeof b.type&&"function"===typeof b.bind&&google.maps.event.addListener(a,b.type,b.bind):google.maps.event.addListener(a,"click",function(){a.infoWindow.open(c.map,a)})},init:function(){var a=this,b={},c={};q+=1;"string"===typeof this.options.center?n.setTimeout(function(){var b=g(a.container),e="";-1!==a.options.center.indexOf(",")&&(a.options.center="loc: "+a.options.center);
c=new google.maps.Geocoder;c.geocode({address:a.options.center},function(c,k){try{k===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?a.init():k===google.maps.GeocoderStatus.OK&&0!==c.length?(a.GoogleMapOptions.center=k===google.maps.GeocoderStatus.OK&&0!==c.length?c[0].geometry.location:"",a.map=new google.maps.Map(a.container,a.GoogleMapOptions),google.maps.event.addListenerOnce(a.map,"idle",function(){a.overlay();a.options.marker.length&&!0===a.options.markerFitBounds&&setTimeout(function(){a.map.fitBounds(a.bounds)},
a.interval)})):(e=a.options.notfound.text||k,b.html(e.replace(/</g,"&lt;").replace(/>/g,"&gt;")))}catch(g){b.html((f!==g.message?g.message:g.description).toString())}})},a.interval*q):(a.map=new google.maps.Map(a.container,a.GoogleMapOptions),google.maps.event.addListenerOnce(a.map,"idle",function(){a.overlay();a.options.marker.length&&!0===a.options.markerFitBounds&&a.map.fitBounds(a.bounds);if("function"===typeof MarkerClusterer)for(b in a._cluster)e(a._cluster,b)&&new MarkerClusterer(a.map,a._cluster[b])}))},
panto:function(a){var b=this,c="",d={};e(b,"map")&&null!==b.map&&f!==b.map&&("string"===typeof a?(-1!==a.indexOf(",")&&(c="loc: "+a),d=new google.maps.Geocoder,d.geocode({address:a},function(a,c){c===google.maps.GeocoderStatus.OK&&g.isFunction(b.map.panTo)&&f!==a[0]&&b.map.panTo(a[0].geometry.location)})):("[object Array]"===Object.prototype.toString.call(a)?2===a.length&&(c=new google.maps.LatLng(a[0],a[1])):e(a,"lat")&&e(a,"lng")?c=new google.maps.LatLng(a.lat,a.lng):e(a,"x")&&e(a,"y")&&(c=new google.maps.LatLng(a.x,
a.y)),g.isFunction(b.map.panTo)&&f!==c&&b.map.panTo(c)))},clear:function(a){var b=[],c="",d=0,e=0;"string"===typeof a&&(b=a.split(","));for(d=0;d<b.length;d+=1)if(c="_"+g.trim(b[d].toString().toLowerCase())+"s",f!==this[c]&&this[c].length){for(e=0;e<this[c].length;e+=1)this.map===this[c][e].getMap()&&(this[c][e].set("visible",!1),this[c][e].setMap(this.map,null),this[c][e].set("directions",null));this[c]=[]}},modify:function(a){var b=[],c=[["kml","kml"],["marker","markers"],["direction","direction"],
["polyline","drawPolyline"],["polygon","drawPolygon"],["circle","drawCircle"],["zoom","setZoom"]],d=0;if(f!==a){for(d=0;d<c.length;d+=1)e(a,c[d][0])&&b.push(c[d][1]);if(null!==this.map&&f!==this.map&&b)for(d=0;d<b.length;d+=1)if("function"===typeof this[b[d]])this[b[d]](this.map,a)}}};g.fn.tinyMap=function(a){var b=arguments,c=[],d={};return"string"===typeof a?(this.each(function(){d=g.data(this,"tinyMap");d instanceof p&&"function"===typeof d[a]&&(c=d[a].apply(d,Array.prototype.slice.call(b,1)))}),
f!==c?c:this):this.each(function(){g.data(this,"tinyMap")||g.data(this,"tinyMap",new p(this,a))})}})(jQuery,window,document);
